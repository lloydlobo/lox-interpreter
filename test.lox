print "file: test.lox";


// TODO: Use []const u8 as key for `locals` autohashmap, instead of *Expr.
// UNLESS, it prevents us from nesting similar named functions/variables.. etc
// in differentt blocks/scopes.

print "# Resolution Errors";

var a = "first";
// TODO: Add support for resolver to populate assigns in local/globals or defer
// interpreter to use the environment for now
// Also should this be an error or a feature?
//
{
    a = "second";
    print a;
}
a = "third";
print a; //> third


fun global_function() {
    print "in global_function";
}

global_function();


{
    print "in a block";

    fun bar_function() {
        print "in bar_function.. that is inside a block";
    }

    bar_function();
}


fun foo_function() {
    print "in foo_function";

    fun bar_function() {
        print "in bar_function.. that is inside foo_function";
    }

    bar_function();
}

foo_function();


// see `:h modeline`
// vim: set commentstring=//\ %s :
// vim: set filetype=c :
// vim: set sts=4 sw=4 et :
